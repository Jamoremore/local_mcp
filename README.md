# local_mcp
基于fastmcp的天气查询助手。采用Qwen模型进行实时对话并调用心知天气API回复实时天气情况

# 文件介绍

`main.py`：主函数

`server.py`：记录get_weather函数。可以替换成其他mcp tool

# 使用方法

```bash
python server.py
python main.py
```

# 使用样例

```bash
请输入：>? 你好，我想咨询一下现在南京的天气情况
模型输出：
====================思考过程====================
好的，用户想查询南京的天气。我需要调用get_weather函数，参数是城市名南京。先确认函数是否存在，查看工具列表，确实有get_weather函数，参数是city，类型字符串，必填。所以应该构造一个JSON对象，name是get_weather，arguments里city设为“南京”。然后确保格式正确，用XML标签包裹工具调用部分。这样应该就能正确返回天气信息了。
====================回复内容====================
南京当前天气 小雨，气温 26 度
请输入：>? 我想再咨询一下北京现在的天气情况
模型输出：
====================思考过程====================
好的，用户之前询问了南京的天气，现在又想了解北京的天气。我需要调用get_weather函数来获取北京的实时天气情况。首先，确认用户的需求是查询北京当前的天气，参数是城市名“北京”。然后，检查工具中的函数是否适用，这里get_weather函数正好需要城市名作为参数。接下来，构造正确的tool_call，确保参数正确无误。最后，返回函数调用结果，等待进一步的信息来回复用户。注意保持响应的及时性和准确性
====================回复内容====================
北京当前天气 中雨，气温 19 度
请输入：
```
